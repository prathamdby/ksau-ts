{"id":"ksau-ts-eda2","title":"Project scaffolding and build system","status":"closed","type":"task","priority":1,"createdAt":"2026-03-01T07:47:11.814Z","updatedAt":"2026-03-01T08:39:17.588Z","description":"Initialize ksau-ts project: package.json, tsconfig.json, Makefile, .gitignore, .github/workflows/release.yml. Covers US-001, US-022, US-023 from SPEC.md. Must be done first as all other work streams depend on it.","closedAt":"2026-03-01T08:39:17.588Z"}
{"id":"ksau-ts-24a3","title":"Port azure/ and crypto/ modules","status":"closed","type":"task","priority":1,"createdAt":"2026-03-01T07:47:17.473Z","updatedAt":"2026-03-01T08:39:17.636Z","description":"Port all files under src/azure/ and src/crypto/: constants.ts, types.ts, item.ts, config.ts, client.ts, quota.ts, hash.ts, upload.ts, crypto/quickxorhash.ts, crypto/placeholder.ts, crypto/algo.ts. Covers US-002 through US-011 from SPEC.md. Depends on scaffolding being complete.","closedAt":"2026-03-01T08:39:17.636Z","closeReason":"Ported all 11 azure/ and crypto/ source files (US-002 through US-011). AzureClient with promise-mutex token refresh, faithful QuickXorHash port, openpgp v6 decrypt/encrypt, bigint byte counts throughout. Typecheck passes. 7 commits on branch overstory/azure-crypto-builder/ksau-ts-24a3."}
{"id":"ksau-ts-2996","title":"Port cmd/ layer and entry point","status":"closed","type":"task","priority":1,"createdAt":"2026-03-01T07:47:22.282Z","updatedAt":"2026-03-01T08:39:17.683Z","description":"Port all files under src/cmd/: root.ts, upload.ts, quota.ts, refresh.ts, listRemotes.ts, version.ts, help.ts, utils.ts, progress/progress.ts, and src/main.ts. Covers US-012 through US-021 from SPEC.md. Depends on azure/ and crypto/ modules being complete.","closedAt":"2026-03-01T08:39:17.683Z","closeReason":"Ported all 10 cmd/ files and src/main.ts (US-012 through US-021). Builder cmd-builder committed on branch overstory/cmd-builder/ksau-ts-2996 (commit 20e862a). All acceptance criteria satisfied: progress tracker with 5 styles, utils with config/chunking/remote selection/integrity verification, root/version/refresh/listRemotes/quota/help/upload commands, full main.ts wiring."}
{"id":"ksau-ts-4968","title":"Fix build script missing --target bun","status":"closed","type":"task","priority":1,"createdAt":"2026-03-01T08:43:31.302Z","updatedAt":"2026-03-01T08:49:21.631Z","description":"package.json 'build' script uses 'bun build' without '--target bun', causing browser polyfill errors for node:os and other Node builtins. Fix: add '--target bun' to the build script in package.json. One-line change.","closedAt":"2026-03-01T08:49:21.631Z","closeReason":"Added --target bun to package.json build script to fix node:os browser polyfill errors"}
{"id":"ksau-ts-7e89","title":"Fix AzureClient missing methods and KibiByte type","status":"closed","type":"task","priority":1,"createdAt":"2026-03-01T08:50:04.504Z","updatedAt":"2026-03-01T09:02:24.806Z","description":"Two typecheck fixes: (1) src/azure/constants.ts KibiByte=1024 must be 1024n (bigint) -- causes bigint*number errors in utils.ts and upload.ts. (2) src/azure/client.ts is missing getDriveQuota(), upload(), getQuickXorHash() instance methods -- cmd/ layer calls these as class methods but azure/ builder implemented them as standalone functions. Add delegate instance methods to AzureClient that call the standalone functions.","closedAt":"2026-03-01T09:02:24.806Z","closeReason":"Fixed KibiByte to bigint literal (1024n) and added three delegation methods (getDriveQuota, upload, getQuickXorHash) to AzureClient class. TypeScript compilation passes."}
{"id":"ksau-ts-c239","title":"Fix placeholder.ts dev fallback for missing assets","status":"closed","type":"task","priority":1,"createdAt":"2026-03-01T09:04:22.474Z","updatedAt":"2026-03-01T09:14:00.719Z","description":"Bun.embeddedFiles is empty in non-compiled builds (bun run / bun build without --compile). placeholder.ts crashes at startup with 'undefined is not an object'. Fix: fall back to reading src/crypto/privkey.pem and src/crypto/passphrase.txt from disk when embeddedFiles does not contain the keys. SPEC states: Bun.embeddedFiles falls back to reading the asset path on disk in dev mode.","closedAt":"2026-03-01T09:14:00.719Z","closeReason":"Fixed placeholder.ts dev fallback: check embeddedFiles existence before access, fall back to readFileSync for non-compiled builds. Fixed package.json build script to bun run src/main.ts. bunx tsc --noEmit exits 0."}
{"id":"ksau-ts-0fe9","title":"Fix package.json build script for dev compile","status":"closed","type":"task","priority":1,"createdAt":"2026-03-01T09:16:05.000Z","updatedAt":"2026-03-01T09:29:43.523Z","description":"The build script was set to 'bun run src/main.ts' which just runs the CLI. Per SPEC US-022, scripts.build should produce a local dev binary without assets. Fix: set to 'bun build src/main.ts --target bun --compile --outfile ksau-ts-dev'. The --compile flag makes it a real executable. placeholder.ts already handles the missing-assets case via readFileSync fallback.","closedAt":"2026-03-01T09:29:43.523Z"}
{"id":"ksau-ts-7021","title":"Fix placeholder.ts path resolution for compiled binaries","status":"closed","type":"task","priority":1,"createdAt":"2026-03-01T09:32:06.716Z","updatedAt":"2026-03-01T09:43:36.046Z","description":"In a bun --compile binary, import.meta.dir resolves to //root, not the project directory. placeholder.ts tries to read privkey.pem from that virtual path and fails. Fix: when embeddedFiles is empty, resolve paths relative to process.cwd() instead of import.meta.dir. This allows the dev binary to find the crypto files in the current working directory (where the user runs the binary from).","closedAt":"2026-03-01T09:43:36.046Z","closeReason":"Fixed placeholder.ts: coordinator's builder committed process.cwd() fallback fix. import.meta.dir â†’ process.cwd() when embeddedFiles absent. Merged to main as cba642b."}
{"id":"ksau-ts-1d62","title":"Fix placeholder.ts use process.cwd() fallback","status":"closed","type":"task","priority":1,"createdAt":"2026-03-01T09:33:52.954Z","updatedAt":"2026-03-01T09:43:41.473Z","closedAt":"2026-03-01T09:43:41.473Z","closeReason":"Builder worktree had correct file; coordinator merged via separate builder."}
{"id":"ksau-ts-ae9c","title":"Commit placeholder.ts fix and close","status":"closed","type":"task","priority":1,"createdAt":"2026-03-01T09:38:14.568Z","updatedAt":"2026-03-01T09:43:41.515Z","closedAt":"2026-03-01T09:43:41.515Z","closeReason":"Stale worktree, superseded by coordinator direct build."}
{"id":"ksau-ts-dbe4","title":"Commit: placeholder.ts fix in builder worktree","status":"closed","type":"task","priority":1,"createdAt":"2026-03-01T09:40:41.385Z","updatedAt":"2026-03-01T09:43:41.556Z","closedAt":"2026-03-01T09:43:41.556Z","closeReason":"Stale worktree, superseded by coordinator direct build."}
{"id":"ksau-ts-51e5","title":"Suppress OpenPGP.js debug output in decrypt","status":"closed","type":"task","priority":2,"createdAt":"2026-03-01T09:45:38.762Z","updatedAt":"2026-03-01T09:59:07.942Z","description":"OpenPGP.js is emitting debug stack traces to stderr during decrypt operations. The errors don't affect functionality (decryption succeeds for valid sections) but the noise is poor UX. Fix: wrap decrypt in try-catch to suppress error output, or configure openpgp to disable debug mode. The decrypt function in src/crypto/algo.ts should not leak internal library debug info to the user.","closedAt":"2026-03-01T09:59:07.942Z","closeReason":"Suppress OpenPGP.js console.error debug noise during decrypt via console.error no-op guard in try/finally"}
