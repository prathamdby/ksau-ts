{"classification":"tactical","recorded_at":"2026-03-01T16:10:05.343Z","tags":["merge-conflict"],"evidence":{"bead":"ksau-ts-2b58"},"type":"pattern","name":"","description":"Merge conflict failed at tier ai-resolve. Branch: overstory/builder-async-client/ksau-ts-2b58. Agent: builder-async-client. Conflicting files: .","id":"mx-ecd3cf"}
{"type":"decision","title":"Suppress OpenPGP fallback stderr noise","rationale":"Wrap openpgp.decrypt in try/finally that swaps console.error to no-op during call and restores original immediately after to keep CLI output clean without changing decryption behavior.","classification":"tactical","recorded_at":"2026-03-01T17:26:12.838Z","id":"mx-75f861"}
{"type":"pattern","name":"progress-math-guards","description":"Progress display code should guard invalid math paths: return 0.0 B for non-finite/negative byte values, compute percent with total > 0 checks, and compute speed only when elapsed > 0.","classification":"tactical","recorded_at":"2026-03-01T17:26:17.884Z","id":"mx-d6b103"}
{"type":"decision","title":"Avoid Bun resp.json SIMD parser path","rationale":"Bun v1.3.9 can SIGFPE on Graph API JSON with large integers when using Response.json(); parsing via JSON.parse(await response.text()) avoids the crash path while keeping payload semantics.","classification":"tactical","recorded_at":"2026-03-01T17:29:44.107Z","id":"mx-76d92d"}
{"type":"decision","title":"Use Commander parseAsync in CLI entrypoint","rationale":"Async command handlers (upload action) must be awaited; parse() can let process exit early in Bun compiled binary teardown.","classification":"tactical","recorded_at":"2026-03-01T17:41:13.059Z","id":"mx-89dc9b"}
{"type":"decision","title":"Drain uploadChunk success responses in Bun","rationale":"Bun can crash during FetchTasklet teardown if upload success responses are returned without consuming the body.","classification":"tactical","recorded_at":"2026-03-01T17:43:34.137Z","id":"mx-9ded79"}
{"type":"decision","title":"Eagerly materialize upload chunk Blob before fetch","rationale":"Passing Blob lazily into fetch can leave file-backed body resources dangling during Bun FetchTasklet teardown; resolving to ArrayBuffer first avoids cleanup crashes.","classification":"tactical","recorded_at":"2026-03-01T17:46:45.590Z","id":"mx-0e52fd"}
